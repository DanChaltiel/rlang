<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Is object a function? — is_function • rlang</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Is object a function? — is_function" />
<meta property="og:description" content="The R language defines two different types of functions: primitive
functions, which are low-level, and closures, which are the regular
kind of functions." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rlang</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.99.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../reference/lifecycle.html">Life cycle</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.tidyverse.org/blog/2020/02/glue-strings-and-tidy-eval/">Version 0.4.3</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/06/rlang-0-4-0/">Version 0.4.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/01/rlang-0-3-1/">Version 0.3.1</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2018/10/rlang-0-3-0/">Version 0.3.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2018/03/rlang-0.2.0/">Version 0.2.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/rlang/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Is object a function?</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-lib/rlang/blob/master/R/fn.R'><code>R/fn.R</code></a></small>
    <div class="hidden name"><code>is_function.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The R language defines two different types of functions: primitive
functions, which are low-level, and closures, which are the regular
kind of functions.</p>
    </div>

    <pre class="usage"><span class='fu'>is_function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>is_closure</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>is_primitive</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>is_primitive_eager</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>

<span class='fu'>is_primitive_lazy</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>Object to be tested.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Closures are functions written in R, named after the way their
arguments are scoped within nested environments (see
<a href='https://en.wikipedia.org/wiki/Closure_(computer_programming)'>https://en.wikipedia.org/wiki/Closure_(computer_programming)</a>). The
root environment of the closure is called the closure
environment. When closures are evaluated, a new environment called
the evaluation frame is created with the closure environment as
parent. This is where the body of the closure is evaluated. These
closure frames appear on the evaluation stack (see <code><a href='stack.html'>ctxt_stack()</a></code>),
as opposed to primitive functions which do not necessarily have
their own evaluation frame and never appear on the stack.</p>
<p>Primitive functions are more efficient than closures for two
reasons. First, they are written entirely in fast low-level
code. Second, the mechanism by which they are passed arguments is
more efficient because they often do not need the full procedure of
argument matching (dealing with positional versus named arguments,
partial matching, etc). One practical consequence of the special
way in which primitives are passed arguments is that they
technically do not have formal arguments, and <code><a href='https://rdrr.io/r/base/formals.html'>formals()</a></code> will
return <code>NULL</code> if called on a primitive function. Finally, primitive
functions can either take arguments lazily, like R closures do,
or evaluate them eagerly before being passed on to the C code.
The former kind of primitives are called "special" in R terminology,
while the latter is referred to as "builtin". <code>is_primitive_eager()</code>
and <code>is_primitive_lazy()</code> allow you to check whether a primitive
function evaluates arguments eagerly or lazily.</p>
<p>You will also encounter the distinction between primitive and
internal functions in technical documentation. Like primitive
functions, internal functions are defined at a low level and
written in C. However, internal functions have no representation in
the R language. Instead, they are called via a call to
<code><a href='https://rdrr.io/r/base/Internal.html'>base::.Internal()</a></code> within a regular closure. This ensures that
they appear as normal R function objects: they obey all the usual
rules of argument passing, and they appear on the evaluation stack
as any other closures. As a result, <code><a href='fn_fmls.html'>fn_fmls()</a></code> does not need to
look in the <code>.ArgsEnv</code> environment to obtain a representation of
their arguments, and there is no way of querying from R whether
they are lazy ('special' in R terminology) or eager ('builtin').</p>
<p>You can call primitive functions with <code><a href='https://rdrr.io/r/base/Primitive.html'>.Primitive()</a></code> and internal
functions with <code><a href='https://rdrr.io/r/base/Internal.html'>.Internal()</a></code>. However, calling internal functions
in a package is forbidden by CRAN's policy because they are
considered part of the private API. They often assume that they
have been called with correctly formed arguments, and may cause R
to crash if you call them with unexpected objects.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'><span class='co'># Primitive functions are not closures:</span></span>
<span class='r-in'><span class='fu'>is_closure</span><span class='op'>(</span><span class='fu'>base</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] FALSE</span>
<span class='r-in'><span class='fu'>is_primitive</span><span class='op'>(</span><span class='fu'>base</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] TRUE</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># On the other hand, internal functions are wrapped in a closure</span></span>
<span class='r-in'><span class='co'># and appear as such from the R side:</span></span>
<span class='r-in'><span class='fu'>is_closure</span><span class='op'>(</span><span class='fu'>base</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/r/base/eval.html'>eval</a></span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] TRUE</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Both closures and primitives are functions:</span></span>
<span class='r-in'><span class='fu'>is_function</span><span class='op'>(</span><span class='fu'>base</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] TRUE</span>
<span class='r-in'><span class='fu'>is_function</span><span class='op'>(</span><span class='fu'>base</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/r/base/eval.html'>eval</a></span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] TRUE</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Primitive functions never appear in evaluation stacks:</span></span>
<span class='r-in'><span class='fu'>is_primitive</span><span class='op'>(</span><span class='fu'>base</span><span class='fu'>::</span><span class='va'>`[[`</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] TRUE</span>
<span class='r-in'><span class='fu'>is_primitive</span><span class='op'>(</span><span class='fu'>base</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] TRUE</span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='stack.html'>ctxt_stack</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[1]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 24&gt; (23)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: eval(expr, envir, enclos)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727abc4db0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[2]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 23&gt; (13)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: eval(expr, envir, enclos)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac9ecd8]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[3]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 22&gt; (13)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: withVisible(eval(expr, envir, enclos))</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac9ef08]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[4]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 21&gt; (13)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: withCallingHandlers(withVisible(eval(expr, envir, enclos)), warning = wHandler,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac9f4b8]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[5]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 20&gt; (19)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: doTryCatch(return(expr), name, parentenv, handler)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac9fa30]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[6]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 19&gt; (18)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: tryCatchOne(expr, names, parentenv, handlers[[1L]])</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac9fd78]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[7]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 18&gt; (17)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: tryCatchList(expr, classes, parentenv, handlers)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727aca00c0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[8]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 17&gt; (16)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: tryCatch(expr, error = function(e) { &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727aca0788]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[9]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 16&gt; (15)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: try(f, silent = TRUE)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727aca09b8]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[10]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 15&gt; (13)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: handle(ev &lt;- withCallingHandlers(withVisible(eval(expr, envir,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727aca0b40]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[11]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 14&gt; (13)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: timing_fn(handle(ev &lt;- withCallingHandlers(withVisible(eval(expr,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac9cdf0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[12]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 13&gt; (12)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: evaluate_call(expr, parsed$src[[i]], envir = envir, enclos = enclos,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727b347de0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[13]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 12&gt; (11)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: evaluate::evaluate(code, child_env(env), new_device = TRUE, output_handler = output_handler)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727aaa0de0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[14]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 11&gt; (10)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: downlit::evaluate_and_highlight(code, fig_save = fig_save_topic,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727aa9e670]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[15]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 10&gt; (9)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: highlight_examples(code, topic, env = env)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727adc5a90]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[16]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 9&gt; (8)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: run_examples(tags$tag_examples[[1]], env = new.env(parent = globalenv()),  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727b1404b8]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[17]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 8&gt; (6)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: data_reference_topic(topic, pkg, examples = examples, run_dont_run = run_dont_run)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727a49de48]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[18]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 7&gt; (6)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: withCallingHandlers(data_reference_topic(topic, pkg, examples = examples,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727a49e548]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[19]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 6&gt; (5)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: .f(.x[[i]], ...)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727a11bed8]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[20]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 5&gt; (4)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: purrr::map(topics, build_reference_topic, pkg = pkg, lazy = lazy,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x5572728de680]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[21]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 4&gt; (3)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: build_reference(pkg, lazy = lazy, examples = examples, run_dont_run = run_dont_run,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x5572730747f0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[22]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 3&gt; (2)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: build_site_local(pkg = pkg, examples = examples, run_dont_run = run_dont_run,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x557274bf3ed0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[23]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 2&gt; (1)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: build_site(pkg, devel = FALSE, preview = FALSE, install = FALSE,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x557274bf30c0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[24]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 1&gt; (0)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: pkgdown::deploy_to_branch(new_process = FALSE)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x557271cfbaa0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[25]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 0&gt; [global]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: NULL</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [global]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> attr(,"class")</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "ctxt_stack" "stack"     </span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># While closures do:</span></span>
<span class='r-in'><span class='fu'><a href='https://rdrr.io/r/base/identity.html'>identity</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/identity.html'>identity</a></span><span class='op'>(</span><span class='fu'><a href='stack.html'>ctxt_stack</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[1]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 26&gt; (24)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: identity(ctxt_stack())</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac6fac8]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[2]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 25&gt; (24)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: identity(identity(ctxt_stack()))</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac6fbe0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[3]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 24&gt; (23)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: eval(expr, envir, enclos)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727abc4db0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[4]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 23&gt; (13)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: eval(expr, envir, enclos)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac6fda0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[5]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 22&gt; (13)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: withVisible(eval(expr, envir, enclos))</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac6ffd0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[6]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 21&gt; (13)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: withCallingHandlers(withVisible(eval(expr, envir, enclos)), warning = wHandler,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac6c7c0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[7]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 20&gt; (19)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: doTryCatch(return(expr), name, parentenv, handler)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac6cda8]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[8]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 19&gt; (18)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: tryCatchOne(expr, names, parentenv, handlers[[1L]])</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac6d0f0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[9]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 18&gt; (17)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: tryCatchList(expr, classes, parentenv, handlers)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac6d438]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[10]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 17&gt; (16)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: tryCatch(expr, error = function(e) { &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac6db00]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[11]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 16&gt; (15)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: try(f, silent = TRUE)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac6dda0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[12]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 15&gt; (13)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: handle(ev &lt;- withCallingHandlers(withVisible(eval(expr, envir,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac6df28]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[13]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 14&gt; (13)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: timing_fn(handle(ev &lt;- withCallingHandlers(withVisible(eval(expr,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [local 0x55727ac6e008]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[14]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 13&gt; (12)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: evaluate_call(expr, parsed$src[[i]], envir = envir, enclos = enclos,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727a2a7218]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[15]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 12&gt; (11)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: evaluate::evaluate(code, child_env(env), new_device = TRUE, output_handler = output_handler)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727aaa0de0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[16]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 11&gt; (10)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: downlit::evaluate_and_highlight(code, fig_save = fig_save_topic,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727aa9e670]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[17]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 10&gt; (9)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: highlight_examples(code, topic, env = env)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727adc5a90]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[18]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 9&gt; (8)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: run_examples(tags$tag_examples[[1]], env = new.env(parent = globalenv()),  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727b1404b8]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[19]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 8&gt; (6)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: data_reference_topic(topic, pkg, examples = examples, run_dont_run = run_dont_run)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727a49de48]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[20]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 7&gt; (6)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: withCallingHandlers(data_reference_topic(topic, pkg, examples = examples,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727a49e548]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[21]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 6&gt; (5)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: .f(.x[[i]], ...)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x55727a11bed8]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[22]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 5&gt; (4)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: purrr::map(topics, build_reference_topic, pkg = pkg, lazy = lazy,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x5572728de680]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[23]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 4&gt; (3)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: build_reference(pkg, lazy = lazy, examples = examples, run_dont_run = run_dont_run,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x5572730747f0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[24]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 3&gt; (2)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: build_site_local(pkg = pkg, examples = examples, run_dont_run = run_dont_run,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x557274bf3ed0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[25]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 2&gt; (1)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: build_site(pkg, devel = FALSE, preview = FALSE, install = FALSE,  &lt;...&gt;</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x557274bf30c0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[26]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 1&gt; (0)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: pkgdown::deploy_to_branch(new_process = FALSE)</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [frame 0x557271cfbaa0]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [[27]]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> &lt;frame 0&gt; [global]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> expr: NULL</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> env:  [global]</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> attr(,"class")</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] "ctxt_stack" "stack"     </span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># Many primitive functions evaluate arguments eagerly:</span></span>
<span class='r-in'><span class='fu'>is_primitive_eager</span><span class='op'>(</span><span class='fu'>base</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] TRUE</span>
<span class='r-in'><span class='fu'>is_primitive_eager</span><span class='op'>(</span><span class='fu'>base</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] TRUE</span>
<span class='r-in'><span class='fu'>is_primitive_eager</span><span class='op'>(</span><span class='fu'>base</span><span class='fu'>::</span><span class='va'>`+`</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] TRUE</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># However, primitives that operate on expressions, like quote() or</span></span>
<span class='r-in'><span class='co'># substitute(), are lazy:</span></span>
<span class='r-in'><span class='fu'>is_primitive_lazy</span><span class='op'>(</span><span class='fu'>base</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/r/base/substitute.html'>quote</a></span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] TRUE</span>
<span class='r-in'><span class='fu'>is_primitive_lazy</span><span class='op'>(</span><span class='fu'>base</span><span class='fu'>::</span><span class='va'><a href='https://rdrr.io/r/base/substitute.html'>substitute</a></span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> [1] TRUE</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Lionel Henry, <a href='http://hadley.nz'>Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


