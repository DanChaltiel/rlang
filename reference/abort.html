<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content='These functions are equivalent to base functions base::stop(),
base::warning(), and base::message(), but make it easy to supply
condition metadata:
Supply class to create a classed condition. Typed
conditions can be captured or handled selectively, allowing for
finer-grained error handling.
Supply metadata with named ... arguments. This data will be
stored in the condition object and can be examined by handlers.


abort() throws subclassed errors, see
"rlang_error".
interrupt() allows R code to simulate a user interrupt of the
kind that is signalled with Ctrl-C. It is currently not possible
to create custom interrupt condition objects.'><title>Signal an error, warning, or message — abort • rlang</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><link href="../deps/_Source%20Sans%20Pro-0.4.0/font.css" rel="stylesheet"><link href="../deps/_Source%20Code%20Pro-0.4.0/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Signal an error, warning, or message — abort"><meta property="og:description" content='These functions are equivalent to base functions base::stop(),
base::warning(), and base::message(), but make it easy to supply
condition metadata:
Supply class to create a classed condition. Typed
conditions can be captured or handled selectively, allowing for
finer-grained error handling.
Supply metadata with named ... arguments. This data will be
stored in the condition object and can be examined by handlers.


abort() throws subclassed errors, see
"rlang_error".
interrupt() allows R code to simulate a user interrupt of the
kind that is signalled with Ctrl-C. It is currently not possible
to create custom interrupt condition objects.'><meta property="og:image" content="https://rlang.r-lib.org/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rlang</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.99.0.9003</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-tidy-evaluation">Tidy evaluation</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-tidy-evaluation">
    <h6 class="dropdown-header" data-toc-skip>Overviews</h6>
    <a class="dropdown-item" href="../reference/topic-data-mask.html">What is data-masking and why do I need `{{`?</a>
    <a class="dropdown-item" href="../reference/topic-data-mask-programming.html">Data mask programming patterns</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Guides</h6>
    <a class="dropdown-item" href="../reference/topic-data-mask-ambiguity.html">The data mask ambiguity</a>
    <a class="dropdown-item" href="../reference/topic-double-evaluation.html">The double evaluation problem</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Notes</h6>
    <a class="dropdown-item" href="../reference/topic-inject-out-of-context.html">What happens if I use injection operators out of context?</a>
    <a class="dropdown-item" href="../reference/topic-embrace-non-args.html">Does `{{` work on regular objects?</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-metaprogramming">Metaprogramming</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-metaprogramming">
    <h6 class="dropdown-header" data-toc-skip>Overviews</h6>
    <a class="dropdown-item" href="../reference/topic-defuse.html">Defusing R expressions</a>
    <a class="dropdown-item" href="../reference/topic-inject.html">Injecting with `!!`, `!!!`, and glue syntax</a>
    <a class="dropdown-item" href="../reference/topic-metaprogramming.html">Metaprogramming patterns</a>
    <a class="dropdown-item" href="../reference/topic-quosure.html">What are quosures and when are they needed?</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Guides</h6>
    <a class="dropdown-item" href="../reference/topic-multiple-columns.html">Taking multiple columns without `...`</a>
    <div class="dropdown-divider"></div>
    <h6 class="dropdown-header" data-toc-skip>Notes</h6>
    <a class="dropdown-item" href="../reference/topic-embrace-constants.html">Why are strings and other constants enquosed in the empty environment?</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Release notes</h6>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/blog/2020/02/glue-strings-and-tidy-eval/">Version 0.4.3</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/06/rlang-0-4-0/">Version 0.4.0</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/01/rlang-0-3-1/">Version 0.3.1</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/10/rlang-0-3-0/">Version 0.3.0</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2018/03/rlang-0.2.0/">Version 0.2.0</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/r-lib/rlang/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Signal an error, warning, or message</h1>
      <small class="dont-index">Source: <a href="https://github.com/r-lib/rlang/blob/HEAD/R/cnd-abort.R" class="external-link"><code>R/cnd-abort.R</code></a>, <a href="https://github.com/r-lib/rlang/blob/HEAD/R/cnd-signal.R" class="external-link"><code>R/cnd-signal.R</code></a></small>
      <div class="d-none name"><code>abort.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions are equivalent to base functions <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">base::stop()</a></code>,
<code><a href="https://rdrr.io/r/base/warning.html" class="external-link">base::warning()</a></code>, and <code><a href="https://rdrr.io/r/base/message.html" class="external-link">base::message()</a></code>, but make it easy to supply
condition metadata:</p><ul><li><p>Supply <code>class</code> to create a classed condition. Typed
conditions can be captured or handled selectively, allowing for
finer-grained error handling.</p></li>
<li><p>Supply metadata with named <code>...</code> arguments. This data will be
stored in the condition object and can be examined by handlers.</p></li>
</ul><p><code>abort()</code> throws subclassed errors, see
<code><a href="rlang_error.html">"rlang_error"</a></code>.</p>
<p><code>interrupt()</code> allows R code to simulate a user interrupt of the
kind that is signalled with <code>Ctrl-C</code>. It is currently not possible
to create custom interrupt condition objects.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">abort</span><span class="op">(</span>
  message <span class="op">=</span> <span class="cn">NULL</span>,
  class <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>,
  <span class="va">call</span>,
  body <span class="op">=</span> <span class="cn">NULL</span>,
  footer <span class="op">=</span> <span class="cn">NULL</span>,
  trace <span class="op">=</span> <span class="cn">NULL</span>,
  parent <span class="op">=</span> <span class="cn">NULL</span>,
  use_cli_format <span class="op">=</span> <span class="cn">NULL</span>,
  .internal <span class="op">=</span> <span class="cn">FALSE</span>,
  .file <span class="op">=</span> <span class="cn">NULL</span>,
  .frame <span class="op">=</span> <span class="cn">NULL</span>,
  .subclass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu">warn</span><span class="op">(</span>
  message <span class="op">=</span> <span class="cn">NULL</span>,
  class <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>,
  body <span class="op">=</span> <span class="cn">NULL</span>,
  footer <span class="op">=</span> <span class="cn">NULL</span>,
  use_cli_format <span class="op">=</span> <span class="cn">NULL</span>,
  .frequency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"always"</span>, <span class="st">"regularly"</span>, <span class="st">"once"</span><span class="op">)</span>,
  .frequency_id <span class="op">=</span> <span class="cn">NULL</span>,
  .subclass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu">inform</span><span class="op">(</span>
  message <span class="op">=</span> <span class="cn">NULL</span>,
  class <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>,
  body <span class="op">=</span> <span class="cn">NULL</span>,
  footer <span class="op">=</span> <span class="cn">NULL</span>,
  use_cli_format <span class="op">=</span> <span class="cn">NULL</span>,
  .file <span class="op">=</span> <span class="cn">NULL</span>,
  .frequency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"always"</span>, <span class="st">"regularly"</span>, <span class="st">"once"</span><span class="op">)</span>,
  .frequency_id <span class="op">=</span> <span class="cn">NULL</span>,
  .subclass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu">signal</span><span class="op">(</span><span class="va">message</span>, <span class="va">class</span>, <span class="va">...</span>, .subclass <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>

<span class="fu">interrupt</span><span class="op">(</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>message</dt>
<dd><p>The message to display. Character vectors are
formatted with <code><a href="format_error_bullets.html">format_error_bullets()</a></code>. The first element
defines a message header and the rest of the vector defines
bullets. Bullets named <code>i</code> and <code>x</code> define info and error bullets
respectively, with special Unicode and colour formatting applied
if possible.</p>
<p>If a message is not supplied, it is expected that the message is
generated lazily through <a href="cnd_message.html">conditionMessage()</a>. In
that case, <code>class</code> must be supplied. Only <code>inform()</code> allows empty
messages as it is occasionally useful to build user output
incrementally.</p></dd>
<dt>class</dt>
<dd><p>Subclass of the condition. This allows your users
to selectively handle the conditions signalled by your functions.</p></dd>
<dt>...</dt>
<dd><p>Additional data to be stored in the condition object.
If you supply condition fields, you should usually provide a
<code>class</code> argument. You may consider prefixing condition fields
with the name of your package or organisation to avoid any
conflict in case of subclassing.</p></dd>
<dt>call</dt>
<dd><p>The execution environment of a currently
running function, e.g. <code>call = caller_env()</code>. The function will
be mentioned in error messages as the source of the error.</p>
<p>When an error occurs, the corresponding function call (see
<code><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">sys.call()</a></code>) is retrieved and stored as <code>call</code> field in the
error object to provide users with contextual information about
the error.</p>
<p>Can also be <code>NULL</code> or a function call to respectively disable the
contextual call or hard-code it.</p>
<p>See also <code><a href="local_error_call.html">local_error_call()</a></code> for an alternative way of
providing this information.</p></dd>
<dt>body, footer</dt>
<dd><p>Additional bullets.</p></dd>
<dt>trace</dt>
<dd><p>A <code>trace</code> object created by <code><a href="trace_back.html">trace_back()</a></code>.</p></dd>
<dt>parent</dt>
<dd><p>A parent condition object created by <code>abort()</code>.</p></dd>
<dt>use_cli_format</dt>
<dd><p>Whether to format <code>message</code> lazily using
<a href="https://cli.r-lib.org/" class="external-link">cli</a> if available. This results in
prettier and more accurate formatting of messages. See also
<code><a href="local_use_cli.html">local_use_cli()</a></code> to set this condition field by default in your
namespace.</p>
<p>The downside is that you can no longer format (assemble multiple
lines into a single string with lines separated by <code>\\n</code>
characters) <code>message</code> ahead of time because that would conflict
with cli formatting.</p></dd>
<dt>.internal</dt>
<dd><p>If <code>TRUE</code>, a footer bullet is added to <code>message</code>
to let the user know that the error is internal and that they
should report it to the package authors. This argument is
incompatible with <code>footer</code>.</p></dd>
<dt>.file</dt>
<dd><p>A connection or a string specifying where to print the
message. The default depends on the context, see the <code>stdout</code> vs
<code>stderr</code> section.</p></dd>
<dt>.frame</dt>
<dd><p>The throwing context. Default to <code>call</code> if it is an
environment, <code><a href="caller_env.html">caller_env()</a></code> otherwise. This is used during
backtrace construction as a starting point to hide condition
handling frames from the user.</p></dd>
<dt>.subclass</dt>
<dd><p>This argument was renamed to <code>class</code> in rlang
0.4.2.  It will be deprecated in the next major version. This is
for consistency with our conventions for class constructors
documented in <a href="https://adv-r.hadley.nz/s3.html#s3-subclassing" class="external-link">https://adv-r.hadley.nz/s3.html#s3-subclassing</a>.</p></dd>
<dt>.frequency</dt>
<dd><p>How frequently should the warning or message be
displayed? By default (<code>"always"</code>) it is displayed at each
time. If <code>"regularly"</code>, it is displayed once every 8 hours. If
<code>"once"</code>, it is displayed once per session.</p></dd>
<dt>.frequency_id</dt>
<dd><p>A unique identifier for the warning or
message. This is used when <code>.frequency</code> is supplied to recognise
recurring conditions. This argument must be supplied if
<code>.frequency</code> is not set to <code>"always"</code>.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    
<ul><li><p><code>abort()</code> and <code>warn()</code> temporarily set the <code>warning.length</code>
global option to the maximum value (8170), unless that option has
been changed from the default value. The default limit (1000
characters) is especially easy to hit when the message contains a
lot of ANSI escapes, as created by the crayon or cli packages</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="error-prefix">Error prefix<a class="anchor" aria-label="anchor" href="#error-prefix"></a></h2>
    


<p>As with <code><a href="https://rdrr.io/r/base/stop.html" class="external-link">base::stop()</a></code>, errors thrown with <code>abort()</code> are prefixed
with <code>"Error: "</code>. Calls and source references are included in the
prefix, e.g. <code>"Error in </code>my_function()<code> at myfile.R:1:2:"</code>. There
are a few cosmetic differences:</p><ul><li><p>The call is stripped from its arguments to keep it simple. It is
then formatted using the <a href="https://cli.r-lib.org/" class="external-link">cli package</a> if
available.</p></li>
<li><p>A line break between the prefix and the message when the former
is too long. When a source location is included, a line break is
always inserted.</p></li>
</ul><p>If your throwing code is highly structured, you may have to
explicitly inform <code>abort()</code> about the relevant user-facing call to
include in the prefix. Internal helpers are rarely relevant to end
users. See the <code>call</code> argument of <code>abort()</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="backtrace">Backtrace<a class="anchor" aria-label="anchor" href="#backtrace"></a></h2>
    


<p><code>abort()</code> always saves a backtrace. You can print a simplified
backtrace of the last error by calling <code><a href="last_error.html">last_error()</a></code> and a full
backtrace with <code>summary(last_error())</code>. Learn how to control what is
displayed when an error is thrown with <code><a href="rlang_backtrace_on_error.html">rlang_backtrace_on_error</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="muffling-and-silencing-conditions">Muffling and silencing conditions<a class="anchor" aria-label="anchor" href="#muffling-and-silencing-conditions"></a></h2>
    


<p>Signalling a condition with <code>inform()</code> or <code>warn()</code> causes a message
to be displayed in the console. These messages can be muffled with
<code><a href="https://rdrr.io/r/base/message.html" class="external-link">base::suppressMessages()</a></code> or <code><a href="https://rdrr.io/r/base/warning.html" class="external-link">base::suppressWarnings()</a></code>.</p>
<p><code>inform()</code> and <code>warn()</code> messages can also be silenced with the
global options <code>rlib_message_verbosity</code> and
<code>rlib_warning_verbosity</code>. These options take the values:</p><ul><li><p><code>"default"</code>: Verbose unless the <code>.frequency</code> argument is
supplied.</p></li>
<li><p><code>"verbose"</code>: Always verbose.</p></li>
<li><p><code>"quiet"</code>: Always quiet.</p></li>
</ul><p>When set to quiet, the message is not displayed and the condition
is not signalled.</p>
    </div>
    <div class="section level2">
    <h2 id="stdout-and-stderr"><code>stdout</code> and <code>stderr</code><a class="anchor" aria-label="anchor" href="#stdout-and-stderr"></a></h2>
    


<p>By default, <code>abort()</code> and <code>inform()</code> print to standard output in
interactive sessions. This allows rlang to be in control of the
appearance of messages in IDEs like RStudio.</p>
<p>There are two situations where messages are streamed to <code>stderr</code>:</p><ul><li><p>In non-interactive sessions, messages are streamed to standard
error so that R scripts can easily filter them out from normal
output by redirecting <code>stderr</code>.</p></li>
<li><p>If a sink is active (either on output or on messages) messages
are always streamd to <code>stderr</code>.</p></li>
</ul><p>These exceptions ensure consistency of behaviour in interactive and
non-interactive sessions, and when sinks are active.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># These examples are guarded to avoid throwing errors</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Signal an error with a message just like stop():</span></span>
<span class="r-in"><span class="fu">abort</span><span class="op">(</span><span class="st">"Something bad happened"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Give a class to the error:</span></span>
<span class="r-in"><span class="fu">abort</span><span class="op">(</span><span class="st">"Something bad happened"</span>, <span class="st">"somepkg_bad_error"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># This will allow your users to handle the error selectively</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="fu">somepkg_function</span><span class="op">(</span><span class="op">)</span>,</span>
<span class="r-in">  somepkg_bad_error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">err</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">    <span class="fu">warn</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">conditionMessage</a></span><span class="op">(</span><span class="va">err</span><span class="op">)</span><span class="op">)</span> <span class="co"># Demote the error to a warning</span></span>
<span class="r-in">    <span class="cn">NA</span>                          <span class="co"># Return an alternative value</span></span>
<span class="r-in">  <span class="op">}</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># You can also specify metadata that will be stored in the condition:</span></span>
<span class="r-in"><span class="fu">abort</span><span class="op">(</span><span class="st">"Something bad happened"</span>, <span class="st">"somepkg_bad_error"</span>, data <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># This data can then be consulted by user handlers:</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="fu">somepkg_function</span><span class="op">(</span><span class="op">)</span>,</span>
<span class="r-in">  somepkg_bad_error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">err</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">    <span class="co"># Compute an alternative return value with the data:</span></span>
<span class="r-in">    <span class="fu">recover_error</span><span class="op">(</span><span class="va">err</span><span class="op">$</span><span class="va">data</span><span class="op">)</span></span>
<span class="r-in">  <span class="op">}</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># If you call low-level APIs it is good practice to handle</span></span>
<span class="r-in"><span class="co"># technical errors and rethrow them with a more meaningful</span></span>
<span class="r-in"><span class="co"># message. Always prefer doing this from `withCallingHandlers()`</span></span>
<span class="r-in"><span class="co"># rather than `tryCatch()` because the former preserves the stack</span></span>
<span class="r-in"><span class="co"># on error and makes it possible for users to use `recover()`.</span></span>
<span class="r-in"><span class="va">file</span> <span class="op">&lt;-</span> <span class="st">"http://foo.bar/baz"</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/try.html" class="external-link">try</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">withCallingHandlers</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="fu">download</span><span class="op">(</span><span class="va">file</span><span class="op">)</span>,</span>
<span class="r-in">  error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">err</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">    <span class="va">msg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"Can't download `%s`"</span>, <span class="va">file</span><span class="op">)</span></span>
<span class="r-in">    <span class="fu">abort</span><span class="op">(</span><span class="va">msg</span>, parent <span class="op">=</span> <span class="va">err</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># Note how we supplied the parent error to `abort()` as `parent` to</span></span>
<span class="r-in"><span class="co"># get a decomposition of error messages across error contexts.</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Unhandled errors are saved automatically by `abort()` and can be</span></span>
<span class="r-in"><span class="co"># retrieved with `last_error()`. The error prints with a simplified</span></span>
<span class="r-in"><span class="co"># backtrace:</span></span>
<span class="r-in"><span class="fu">abort</span><span class="op">(</span><span class="st">"Saved error?"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="last_error.html">last_error</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Use `summary()` to print the full backtrace and the condition fields:</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="last_error.html">last_error</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://github.com/lionel-" class="external-link">Lionel Henry</a>, <a href="http://hadley.nz" class="external-link">Hadley Wickham</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

  </div></footer></body></html>

